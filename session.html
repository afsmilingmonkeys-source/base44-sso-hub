<script>
  // Leer sesi√≥n de COOKIE (no localStorage)
  function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) {
      const raw = parts.pop().split(';').shift();
      try {
        const decoded = decodeURIComponent(atob(raw));
        return JSON.parse(decoded);
      } catch (e) {
        return null;
      }
    }
    return null;
  }

  const session = getCookie('base44_sso_session');
  window.parent.postMessage({
    type: 'SSO_SESSION',
    session: session
  }, '*');
</script>
